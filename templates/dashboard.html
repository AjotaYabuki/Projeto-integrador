<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SIG - Sistema Integrado</title>

  <!-- FontAwesome e Chart.js -->
  <script src="https://kit.fontawesome.com/a2e0e6adf3.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}?v=6">
</head>

<body>
  <!-- Sidebar -->
  <aside class="sidebar">
    <div class="sidebar-header">
      <h2>SIG</h2>
      <div class="user-info">
        <div class="user-name">{{ usuario_nome or "Administrador" }}</div>
        <div class="user-role">{{ usuario_cargo or "Gerente" }}</div>
      </div>

      <button class="theme-toggle" id="theme-toggle" title="Alternar tema">
        <i class="fas fa-moon"></i>
      </button>
    </div>

    <!-- Menu -->
    <nav class="nav-menu">
      <a class="menu-item active" data-target="dashboard"><i class="fas fa-home"></i> Dashboard</a>
      <a class="menu-item" data-target="clientes"><i class="fas fa-users"></i> Clientes</a>
      <a class="menu-item" data-target="vendas"><i class="fas fa-chart-line"></i> Vendas</a>
      <a class="menu-item" data-target="produtos"><i class="fas fa-box-open"></i> Produtos</a>
      <a class="menu-item" data-target="config"><i class="fas fa-cog"></i> ConfiguraÃ§Ãµes</a>
    </nav>

    <!-- Logout -->
    <button class="logout-btn" id="logout-btn">
      <i class="fas fa-sign-out-alt"></i> Sair
    </button>
  </aside>

  <!-- ConteÃºdo -->
  <main class="main-content">
    <div class="content-header">
      <h1><i class="fas fa-tachometer-alt"></i> Painel Principal</h1>
    </div>

    <!-- DASHBOARD -->
    <section id="dashboard" class="content-section active">
      <div class="stats-grid">
        <div class="stat-card">
          <i class="fas fa-users stat-icon"></i>
          <span id="clienteCount" class="stat-number">25</span>
          <span class="stat-label">Clientes</span>
        </div>
        <div class="stat-card">
          <i class="fas fa-box stat-icon"></i>
          <span id="produtoCount" class="stat-number">15</span>
          <span class="stat-label">Produtos</span>
        </div>
        <div class="stat-card">
          <i class="fas fa-dollar-sign stat-icon"></i>
          <span id="vendaCount" class="stat-number">R$ 12.500,00</span>
          <span class="stat-label">Vendas</span>
        </div>
      </div>

      <div class="card">
        <h3><i class="fas fa-chart-line"></i> GrÃ¡fico de Vendas (6 meses)</h3>
        <canvas id="salesChart"></canvas>
      </div>

      <div class="card">
        <h3><i class="fas fa-users"></i> Crescimento de Clientes</h3>
        <canvas id="clientesChart"></canvas>
      </div>

      <div class="card">
        <h3><i class="fas fa-chart-pie"></i> Vendas por Canal</h3>
        <canvas id="vendasCanais"></canvas>
      </div>
    </section>

    <!-- CLIENTES -->
    <section id="clientes" class="content-section">
      <div class="card">
        <h3><i class="fas fa-user-plus"></i> Adicionar Cliente</h3>
        <form id="clienteForm">
          <input type="text" name="nome" placeholder="Nome" required>
          <input type="email" name="email" placeholder="E-mail" required>
          <input type="tel" name="telefone" placeholder="Telefone">
          <button type="submit" class="btn">Adicionar</button>
        </form>

        <h3><i class="fas fa-users"></i> Lista de Clientes</h3>
        <table class="data-table" id="clientesTable">
          <thead><tr><th>Nome</th><th>Email</th><th>Telefone</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- PRODUTOS -->
    <section id="produtos" class="content-section">
      <div class="card">
        <h3><i class="fas fa-plus"></i> Adicionar Produto</h3>
        <form id="produtoForm">
          <input type="text" name="nome" placeholder="Nome do Produto" required>
          <input type="text" name="marca" placeholder="Marca" required>
          <input type="number" name="estoque" placeholder="Estoque" required>
          <input type="number" step="0.01" name="preco" placeholder="PreÃ§o" required>
          <button type="submit" class="btn">Adicionar</button>
        </form>

        <h3><i class="fas fa-box"></i> Lista de Produtos</h3>
        <table class="data-table" id="produtosTable">
          <thead><tr><th>Produto</th><th>Marca</th><th>PreÃ§o</th><th>Estoque</th></tr></thead>
          <tbody></tbody>
        </table>
      </div>
    </section>

    <!-- VENDAS -->
    <section id="vendas" class="content-section">
      <div class="card">
        <h3><i class="fas fa-chart-bar"></i> RelatÃ³rio de Vendas</h3>
        <canvas id="vendasMensais"></canvas>
      </div>
    </section>

    <!-- CONFIG -->
    <section id="config" class="content-section">
      <div class="card">
        <h3><i class="fas fa-cog"></i> ConfiguraÃ§Ãµes</h3>
        <p>ðŸ”” Alertas de estoque baixo</p>
        <p>ðŸ“… Validade de produtos</p>
      </div>
    </section>
  </main>

  <!-- JS -->
  <script src="{{ url_for('static', filename='js/dashboard.js') }}?v=6" defer></script>
</body>
</html>
